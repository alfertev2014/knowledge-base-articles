
# Множественное наследование. Так ли страшен чёрт?

## Предисловие

Наследование - это понятие из ООП, определяющее отношение между классами. Когда один класс наследует другой, он расширяет его функциональность. Объекты производного класса одновременно принадлежат и базовому классу. Для классов из ООП можно провести аналогию с множествами. Объекты - это абстрактные сущности для моделирования чего-либо из реального мира. Все объекты можно поделить на множества, называемые классами. Для множеств есть операции объединения и пересечения. Почему этого не может быть и с классами?

Сам по себе класс - это ещё одна абстрактная сущность, обозначающая набор признаков, по которым можно выделить множество объектов этого класса.

Отношение наследования между двумя классами означает, что объект производного класса одновременно принадлежит множеству объектов базового класса. Если базовых классов будет несколько, то множество объектов производного класса является пересечением множеств объектов базовых классов.

Всё прекрасно в теории, когда стоит лишь задача моделирования. Но есть проблемы с реализацией множественного наследования в программах.

### Компромис дизайна языков программирования

Что есть объект в программе? Это всё ещё абстрактная сущность, которая как-то представлена в оперативной памяти, и это представление как-то связано с фрагментами исполняемого кода, которые отвечают за поведение этого класса. Иными словами, в программе подразумевается некоторая структура данных в памяти, которая является обозначением того объекта, который мы подразумеваем в процессе моделирования в терминах языка программирования. Способы представления объектов, классов и всех отношений между ними могут быть разные, и дизайнеры языков стремятся, чтобы это представление было оптимальным и эффективным. И здесть есть компромис.

Есть три полюса, между которыми приходится балансировать:

* Вычислительная среда
* Математические абстракции
* Человеческое мышление

Программы в любом случае будут исполняться на некоторой вычислительной машине, которая имеет свои особенности. Например, что представления объектов придётся располагать в памяти с линейной адресацией, а значит, распределением этой памяти надо управлять. Процессор работает в соответствии со своей архитектурой набора команд. Сами по себе объекты могут быть представлены разными структурами данных, эффективные для этого конкретного типа вычислительной машины.

В основе дизайна языков программирования лежит много математики. В идеале, хочется представить программу в разрезе математики и использовать наиболее удобный для рассуждений математический аппарат, включая синтаксис.

В то же время, программы на высокоуровневых языках пишут люди, решая свои задачи в терминах этих задач через призму своей человеческой культуры (языка, аналогий, паттернов).

### Абстрактный пример множественного наследования

## Множественное наследование в разных языках

### C++

#### Примеры множественного наследования

#### Проблема ромба

#### Виртуальное наследование

### Java

#### Методы с реализацией в интерфейсах

#### Приватные методы в интерфейсах

### C# 8

### Python

### JavaScript

### Scala

## Наследование и композиция

### Кусок класса - mixin

### Типы. Система типов

### Наследование интерфейсов

### Композиция реализаций
